<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WPILibC++: frc::LinearQuadraticRegulator&lt; States, Inputs &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="wpilib-128.png"/></td>
  <td id="projectalign">
   <div id="projectname">WPILibC++<span id="projectnumber">&#160;2025.1.1-beta-1-35-g9a5f73d</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classfrc_1_1_linear_quadratic_regulator.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfrc_1_1_linear_quadratic_regulator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">frc::LinearQuadraticRegulator&lt; States, Inputs &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Contains the controller coefficients and logic for a linear-quadratic regulator (LQR).  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_linear_quadratic_regulator_8h_source.html">frc/controller/LinearQuadraticRegulator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0cec4c190031dacff44f07b76c60456c" id="r_a0cec4c190031dacff44f07b76c60456c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> = <a class="el" href="namespacefrc.html#a55a009eb42c3bea2c8005b29b123e07a">Vectord</a>&lt;States&gt;</td></tr>
<tr class="separator:a0cec4c190031dacff44f07b76c60456c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b72f0a7212421f6c1017103189bb0b1" id="r_a9b72f0a7212421f6c1017103189bb0b1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b72f0a7212421f6c1017103189bb0b1">InputVector</a> = <a class="el" href="namespacefrc.html#a55a009eb42c3bea2c8005b29b123e07a">Vectord</a>&lt;Inputs&gt;</td></tr>
<tr class="separator:a9b72f0a7212421f6c1017103189bb0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e55210719a94bd0690216874b7043d" id="r_ac4e55210719a94bd0690216874b7043d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4e55210719a94bd0690216874b7043d">StateArray</a> = <a class="el" href="classwpi_1_1array.html">wpi::array</a>&lt;double, States&gt;</td></tr>
<tr class="separator:ac4e55210719a94bd0690216874b7043d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4c34803e9c9eb5aad2c8ca6386ffdc" id="r_a3e4c34803e9c9eb5aad2c8ca6386ffdc"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e4c34803e9c9eb5aad2c8ca6386ffdc">InputArray</a> = <a class="el" href="classwpi_1_1array.html">wpi::array</a>&lt;double, Inputs&gt;</td></tr>
<tr class="separator:a3e4c34803e9c9eb5aad2c8ca6386ffdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a67dc4ac0aad044a3ae7a72410e4e0610" id="r_a67dc4ac0aad044a3ae7a72410e4e0610"><td class="memTemplParams" colspan="2">template&lt;int Outputs&gt; </td></tr>
<tr class="memitem:a67dc4ac0aad044a3ae7a72410e4e0610"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a67dc4ac0aad044a3ae7a72410e4e0610">LinearQuadraticRegulator</a> (const <a class="el" href="classfrc_1_1_linear_system.html">LinearSystem</a>&lt; States, Inputs, Outputs &gt; &amp;plant, const <a class="el" href="#ac4e55210719a94bd0690216874b7043d">StateArray</a> &amp;Qelems, const <a class="el" href="#a3e4c34803e9c9eb5aad2c8ca6386ffdc">InputArray</a> &amp;Relems, units::second_t dt)</td></tr>
<tr class="memdesc:a67dc4ac0aad044a3ae7a72410e4e0610"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a controller with the given coefficients and plant.  <br /></td></tr>
<tr class="separator:a67dc4ac0aad044a3ae7a72410e4e0610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a353c7184eb6aca4ed5a14d7fff0c2bfb" id="r_a353c7184eb6aca4ed5a14d7fff0c2bfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a353c7184eb6aca4ed5a14d7fff0c2bfb">LinearQuadraticRegulator</a> (const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;A, const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, Inputs &gt; &amp;B, const <a class="el" href="#ac4e55210719a94bd0690216874b7043d">StateArray</a> &amp;Qelems, const <a class="el" href="#a3e4c34803e9c9eb5aad2c8ca6386ffdc">InputArray</a> &amp;Relems, units::second_t dt)</td></tr>
<tr class="memdesc:a353c7184eb6aca4ed5a14d7fff0c2bfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a controller with the given coefficients and plant.  <br /></td></tr>
<tr class="separator:a353c7184eb6aca4ed5a14d7fff0c2bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0734e1bbde46f682bed94221923700a" id="r_ab0734e1bbde46f682bed94221923700a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0734e1bbde46f682bed94221923700a">LinearQuadraticRegulator</a> (const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;A, const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, Inputs &gt; &amp;B, const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;Q, const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; Inputs, Inputs &gt; &amp;<a class="el" href="#aca7871970995584dd14361f416b64971">R</a>, units::second_t dt)</td></tr>
<tr class="memdesc:ab0734e1bbde46f682bed94221923700a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a controller with the given coefficients and plant.  <br /></td></tr>
<tr class="separator:ab0734e1bbde46f682bed94221923700a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad014c8fb924350144953323e77cb4f92" id="r_ad014c8fb924350144953323e77cb4f92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad014c8fb924350144953323e77cb4f92">LinearQuadraticRegulator</a> (const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;A, const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, Inputs &gt; &amp;B, const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;Q, const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; Inputs, Inputs &gt; &amp;<a class="el" href="#aca7871970995584dd14361f416b64971">R</a>, const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, Inputs &gt; &amp;N, units::second_t dt)</td></tr>
<tr class="memdesc:ad014c8fb924350144953323e77cb4f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a controller with the given coefficients and plant.  <br /></td></tr>
<tr class="separator:ad014c8fb924350144953323e77cb4f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ac6b8d96b32cc3f11c6f07a0d207bb" id="r_a35ac6b8d96b32cc3f11c6f07a0d207bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35ac6b8d96b32cc3f11c6f07a0d207bb">LinearQuadraticRegulator</a> (<a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">LinearQuadraticRegulator</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a35ac6b8d96b32cc3f11c6f07a0d207bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d6a00b316bd6771bb1d06413657022" id="r_a25d6a00b316bd6771bb1d06413657022"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">LinearQuadraticRegulator</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25d6a00b316bd6771bb1d06413657022">operator=</a> (<a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">LinearQuadraticRegulator</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a25d6a00b316bd6771bb1d06413657022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592f93f124c21f168e0992ce83a8d807" id="r_a592f93f124c21f168e0992ce83a8d807"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; Inputs, States &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a592f93f124c21f168e0992ce83a8d807">K</a> () const</td></tr>
<tr class="memdesc:a592f93f124c21f168e0992ce83a8d807"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the controller matrix K.  <br /></td></tr>
<tr class="separator:a592f93f124c21f168e0992ce83a8d807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef2cecef0eb81d521fa1680dda65fa0" id="r_abef2cecef0eb81d521fa1680dda65fa0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abef2cecef0eb81d521fa1680dda65fa0">K</a> (int i, int j) const</td></tr>
<tr class="memdesc:abef2cecef0eb81d521fa1680dda65fa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an element of the controller matrix K.  <br /></td></tr>
<tr class="separator:abef2cecef0eb81d521fa1680dda65fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7871970995584dd14361f416b64971" id="r_aca7871970995584dd14361f416b64971"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca7871970995584dd14361f416b64971">R</a> () const</td></tr>
<tr class="memdesc:aca7871970995584dd14361f416b64971"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the reference vector r.  <br /></td></tr>
<tr class="separator:aca7871970995584dd14361f416b64971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffb6e388cff48b13b67a8fbfa93a0cd" id="r_adffb6e388cff48b13b67a8fbfa93a0cd"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adffb6e388cff48b13b67a8fbfa93a0cd">R</a> (int i) const</td></tr>
<tr class="memdesc:adffb6e388cff48b13b67a8fbfa93a0cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an element of the reference vector r.  <br /></td></tr>
<tr class="separator:adffb6e388cff48b13b67a8fbfa93a0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57293260a9a906a2784a1178686a33ff" id="r_a57293260a9a906a2784a1178686a33ff"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="#a9b72f0a7212421f6c1017103189bb0b1">InputVector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57293260a9a906a2784a1178686a33ff">U</a> () const</td></tr>
<tr class="memdesc:a57293260a9a906a2784a1178686a33ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the control input vector u.  <br /></td></tr>
<tr class="separator:a57293260a9a906a2784a1178686a33ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c35f9cd35b5cfa2efeb4c8d7cb85b1" id="r_ac4c35f9cd35b5cfa2efeb4c8d7cb85b1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4c35f9cd35b5cfa2efeb4c8d7cb85b1">U</a> (int i) const</td></tr>
<tr class="memdesc:ac4c35f9cd35b5cfa2efeb4c8d7cb85b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an element of the control input vector u.  <br /></td></tr>
<tr class="separator:ac4c35f9cd35b5cfa2efeb4c8d7cb85b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155ec6d6210d0af1651476a66ccbd91d" id="r_a155ec6d6210d0af1651476a66ccbd91d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a155ec6d6210d0af1651476a66ccbd91d">Reset</a> ()</td></tr>
<tr class="memdesc:a155ec6d6210d0af1651476a66ccbd91d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the controller.  <br /></td></tr>
<tr class="separator:a155ec6d6210d0af1651476a66ccbd91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7bd92b82b88f3fff349971a667c82d1" id="r_ac7bd92b82b88f3fff349971a667c82d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9b72f0a7212421f6c1017103189bb0b1">InputVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7bd92b82b88f3fff349971a667c82d1">Calculate</a> (const <a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> &amp;x)</td></tr>
<tr class="memdesc:ac7bd92b82b88f3fff349971a667c82d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next output of the controller.  <br /></td></tr>
<tr class="separator:ac7bd92b82b88f3fff349971a667c82d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46448577d0eb0d77f403a18ac3afc932" id="r_a46448577d0eb0d77f403a18ac3afc932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9b72f0a7212421f6c1017103189bb0b1">InputVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46448577d0eb0d77f403a18ac3afc932">Calculate</a> (const <a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> &amp;x, const <a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> &amp;nextR)</td></tr>
<tr class="memdesc:a46448577d0eb0d77f403a18ac3afc932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next output of the controller.  <br /></td></tr>
<tr class="separator:a46448577d0eb0d77f403a18ac3afc932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3997018f75f872a3773feab65526c641" id="r_a3997018f75f872a3773feab65526c641"><td class="memTemplParams" colspan="2">template&lt;int Outputs&gt; </td></tr>
<tr class="memitem:a3997018f75f872a3773feab65526c641"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a3997018f75f872a3773feab65526c641">LatencyCompensate</a> (const <a class="el" href="classfrc_1_1_linear_system.html">LinearSystem</a>&lt; States, Inputs, Outputs &gt; &amp;plant, units::second_t dt, units::second_t inputDelay)</td></tr>
<tr class="memdesc:a3997018f75f872a3773feab65526c641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts LQR controller gain to compensate for a pure time delay in the input.  <br /></td></tr>
<tr class="separator:a3997018f75f872a3773feab65526c641"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;int States, int Inputs&gt;<br />
class frc::LinearQuadraticRegulator&lt; States, Inputs &gt;</div><p>Contains the controller coefficients and logic for a linear-quadratic regulator (LQR). </p>
<p>LQRs use the control law u = K(r - x).</p>
<p>For more on the underlying math, read <a href="https://file.tavsys.net/control/controls-engineering-in-frc.pdf">https://file.tavsys.net/control/controls-engineering-in-frc.pdf</a>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">States</td><td>Number of states. </td></tr>
    <tr><td class="paramname">Inputs</td><td>Number of inputs. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a3e4c34803e9c9eb5aad2c8ca6386ffdc" name="a3e4c34803e9c9eb5aad2c8ca6386ffdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e4c34803e9c9eb5aad2c8ca6386ffdc">&#9670;&#160;</a></span>InputArray</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::InputArray = <a class="el" href="classwpi_1_1array.html">wpi::array</a>&lt;double, Inputs&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b72f0a7212421f6c1017103189bb0b1" name="a9b72f0a7212421f6c1017103189bb0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b72f0a7212421f6c1017103189bb0b1">&#9670;&#160;</a></span>InputVector</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::InputVector = <a class="el" href="namespacefrc.html#a55a009eb42c3bea2c8005b29b123e07a">Vectord</a>&lt;Inputs&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac4e55210719a94bd0690216874b7043d" name="ac4e55210719a94bd0690216874b7043d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e55210719a94bd0690216874b7043d">&#9670;&#160;</a></span>StateArray</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::StateArray = <a class="el" href="classwpi_1_1array.html">wpi::array</a>&lt;double, States&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0cec4c190031dacff44f07b76c60456c" name="a0cec4c190031dacff44f07b76c60456c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cec4c190031dacff44f07b76c60456c">&#9670;&#160;</a></span>StateVector</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::StateVector = <a class="el" href="namespacefrc.html#a55a009eb42c3bea2c8005b29b123e07a">Vectord</a>&lt;States&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a67dc4ac0aad044a3ae7a72410e4e0610" name="a67dc4ac0aad044a3ae7a72410e4e0610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67dc4ac0aad044a3ae7a72410e4e0610">&#9670;&#160;</a></span>LinearQuadraticRegulator() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<div class="memtemplate">
template&lt;int Outputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::LinearQuadraticRegulator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfrc_1_1_linear_system.html">LinearSystem</a>&lt; States, Inputs, Outputs &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>plant</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#ac4e55210719a94bd0690216874b7043d">StateArray</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Qelems</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#a3e4c34803e9c9eb5aad2c8ca6386ffdc">InputArray</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Relems</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">units::second_t</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a controller with the given coefficients and plant. </p>
<p>See <a href="https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-intro.html#lqr-tuning">https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-intro.html#lqr-tuning</a> for how to select the tolerances.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Outputs</td><td>Number of outputs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plant</td><td>The plant being controlled. </td></tr>
    <tr><td class="paramname">Qelems</td><td>The maximum desired error tolerance for each state. </td></tr>
    <tr><td class="paramname">Relems</td><td>The maximum desired control effort for each input. </td></tr>
    <tr><td class="paramname">dt</td><td>Discretization timestep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt><em>Throws:</em></dt><dd>std::invalid_argument If the system is unstabilizable. </dd></dl>

</div>
</div>
<a id="a353c7184eb6aca4ed5a14d7fff0c2bfb" name="a353c7184eb6aca4ed5a14d7fff0c2bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a353c7184eb6aca4ed5a14d7fff0c2bfb">&#9670;&#160;</a></span>LinearQuadraticRegulator() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::LinearQuadraticRegulator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, Inputs &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>B</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#ac4e55210719a94bd0690216874b7043d">StateArray</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Qelems</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#a3e4c34803e9c9eb5aad2c8ca6386ffdc">InputArray</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>Relems</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">units::second_t</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a controller with the given coefficients and plant. </p>
<p>See <a href="https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-intro.html#lqr-tuning">https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-intro.html#lqr-tuning</a> for how to select the tolerances.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>Continuous system matrix of the plant being controlled. </td></tr>
    <tr><td class="paramname">B</td><td>Continuous input matrix of the plant being controlled. </td></tr>
    <tr><td class="paramname">Qelems</td><td>The maximum desired error tolerance for each state. </td></tr>
    <tr><td class="paramname">Relems</td><td>The maximum desired control effort for each input. </td></tr>
    <tr><td class="paramname">dt</td><td>Discretization timestep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt><em>Throws:</em></dt><dd>std::invalid_argument If the system is unstabilizable. </dd></dl>

</div>
</div>
<a id="ab0734e1bbde46f682bed94221923700a" name="ab0734e1bbde46f682bed94221923700a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0734e1bbde46f682bed94221923700a">&#9670;&#160;</a></span>LinearQuadraticRegulator() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::LinearQuadraticRegulator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, Inputs &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>B</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>Q</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; Inputs, Inputs &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>R</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">units::second_t</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a controller with the given coefficients and plant. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>Continuous system matrix of the plant being controlled. </td></tr>
    <tr><td class="paramname">B</td><td>Continuous input matrix of the plant being controlled. </td></tr>
    <tr><td class="paramname">Q</td><td>The state cost matrix. </td></tr>
    <tr><td class="paramname">R</td><td>The input cost matrix. </td></tr>
    <tr><td class="paramname">dt</td><td>Discretization timestep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt><em>Throws:</em></dt><dd>std::invalid_argument If the system is unstabilizable. </dd></dl>

</div>
</div>
<a id="ad014c8fb924350144953323e77cb4f92" name="ad014c8fb924350144953323e77cb4f92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad014c8fb924350144953323e77cb4f92">&#9670;&#160;</a></span>LinearQuadraticRegulator() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::LinearQuadraticRegulator </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>A</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, Inputs &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>B</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, States &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>Q</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; Inputs, Inputs &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>R</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; States, Inputs &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>N</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">units::second_t</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a controller with the given coefficients and plant. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>Continuous system matrix of the plant being controlled. </td></tr>
    <tr><td class="paramname">B</td><td>Continuous input matrix of the plant being controlled. </td></tr>
    <tr><td class="paramname">Q</td><td>The state cost matrix. </td></tr>
    <tr><td class="paramname">R</td><td>The input cost matrix. </td></tr>
    <tr><td class="paramname">N</td><td>The state-input cross-term cost matrix. </td></tr>
    <tr><td class="paramname">dt</td><td>Discretization timestep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt><em>Throws:</em></dt><dd>std::invalid_argument If the system is unstabilizable. </dd></dl>

</div>
</div>
<a id="a35ac6b8d96b32cc3f11c6f07a0d207bb" name="a35ac6b8d96b32cc3f11c6f07a0d207bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35ac6b8d96b32cc3f11c6f07a0d207bb">&#9670;&#160;</a></span>LinearQuadraticRegulator() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::LinearQuadraticRegulator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">LinearQuadraticRegulator</a>&lt; States, Inputs &gt; &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac7bd92b82b88f3fff349971a667c82d1" name="ac7bd92b82b88f3fff349971a667c82d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7bd92b82b88f3fff349971a667c82d1">&#9670;&#160;</a></span>Calculate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9b72f0a7212421f6c1017103189bb0b1">InputVector</a> <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::Calculate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the next output of the controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The current state x. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46448577d0eb0d77f403a18ac3afc932" name="a46448577d0eb0d77f403a18ac3afc932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46448577d0eb0d77f403a18ac3afc932">&#9670;&#160;</a></span>Calculate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9b72f0a7212421f6c1017103189bb0b1">InputVector</a> <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::Calculate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>nextR</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the next output of the controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The current state x. </td></tr>
    <tr><td class="paramname">nextR</td><td>The next reference vector r. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a592f93f124c21f168e0992ce83a8d807" name="a592f93f124c21f168e0992ce83a8d807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592f93f124c21f168e0992ce83a8d807">&#9670;&#160;</a></span>K() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacefrc.html#a4b0ea7f820ce0456c608021298dfb395">Matrixd</a>&lt; Inputs, States &gt; &amp; <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::K </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the controller matrix K. </p>

</div>
</div>
<a id="abef2cecef0eb81d521fa1680dda65fa0" name="abef2cecef0eb81d521fa1680dda65fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef2cecef0eb81d521fa1680dda65fa0">&#9670;&#160;</a></span>K() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::K </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an element of the controller matrix K. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Row of K. </td></tr>
    <tr><td class="paramname">j</td><td>Column of K. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3997018f75f872a3773feab65526c641" name="a3997018f75f872a3773feab65526c641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3997018f75f872a3773feab65526c641">&#9670;&#160;</a></span>LatencyCompensate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<div class="memtemplate">
template&lt;int Outputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::LatencyCompensate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfrc_1_1_linear_system.html">LinearSystem</a>&lt; States, Inputs, Outputs &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>plant</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">units::second_t</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">units::second_t</td>          <td class="paramname"><span class="paramname"><em>inputDelay</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adjusts LQR controller gain to compensate for a pure time delay in the input. </p>
<p>Linear-Quadratic regulator controller gains tend to be aggressive. If sensor measurements are time-delayed too long, the LQR may be unstable. However, if we know the amount of delay, we can compute the control based on where the system will be after the time delay.</p>
<p>See <a href="https://file.tavsys.net/control/controls-engineering-in-frc.pdf">https://file.tavsys.net/control/controls-engineering-in-frc.pdf</a> appendix C.4 for a derivation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plant</td><td>The plant being controlled. </td></tr>
    <tr><td class="paramname">dt</td><td>Discretization timestep. </td></tr>
    <tr><td class="paramname">inputDelay</td><td>Input time delay. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a25d6a00b316bd6771bb1d06413657022" name="a25d6a00b316bd6771bb1d06413657022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d6a00b316bd6771bb1d06413657022">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">LinearQuadraticRegulator</a> &amp; <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">LinearQuadraticRegulator</a>&lt; States, Inputs &gt; &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aca7871970995584dd14361f416b64971" name="aca7871970995584dd14361f416b64971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7871970995584dd14361f416b64971">&#9670;&#160;</a></span>R() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="#a0cec4c190031dacff44f07b76c60456c">StateVector</a> &amp; <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::R </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the reference vector r. </p>
<dl class="section return"><dt>Returns</dt><dd>The reference vector. </dd></dl>

</div>
</div>
<a id="adffb6e388cff48b13b67a8fbfa93a0cd" name="adffb6e388cff48b13b67a8fbfa93a0cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adffb6e388cff48b13b67a8fbfa93a0cd">&#9670;&#160;</a></span>R() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::R </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an element of the reference vector r. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Row of r.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The row of the reference vector. </dd></dl>

</div>
</div>
<a id="a155ec6d6210d0af1651476a66ccbd91d" name="a155ec6d6210d0af1651476a66ccbd91d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155ec6d6210d0af1651476a66ccbd91d">&#9670;&#160;</a></span>Reset()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::Reset </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the controller. </p>

</div>
</div>
<a id="a57293260a9a906a2784a1178686a33ff" name="a57293260a9a906a2784a1178686a33ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57293260a9a906a2784a1178686a33ff">&#9670;&#160;</a></span>U() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="#a9b72f0a7212421f6c1017103189bb0b1">InputVector</a> &amp; <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::U </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the control input vector u. </p>
<dl class="section return"><dt>Returns</dt><dd>The control input. </dd></dl>

</div>
</div>
<a id="ac4c35f9cd35b5cfa2efeb4c8d7cb85b1" name="ac4c35f9cd35b5cfa2efeb4c8d7cb85b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c35f9cd35b5cfa2efeb4c8d7cb85b1">&#9670;&#160;</a></span>U() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int States, int Inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">frc::LinearQuadraticRegulator</a>&lt; States, Inputs &gt;::U </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an element of the control input vector u. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>Row of u.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The row of the control input vector. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>frc/controller/<a class="el" href="_linear_quadratic_regulator_8h_source.html">LinearQuadraticRegulator.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacefrc.html">frc</a></li><li class="navelem"><a class="el" href="classfrc_1_1_linear_quadratic_regulator.html">LinearQuadraticRegulator</a></li>
    <li class="footer">Generated on Thu Oct 24 2024 04:48:54 for WPILibC++ by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
