<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LinearQuadraticRegulator (WPILib API 2022.3.1-22-ga19d113)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: edu.wpi.first.math.controller, class: LinearQuadraticRegulator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">edu.wpi.first.math.controller</a></div>
<h1 title="Class LinearQuadraticRegulator" class="title">Class LinearQuadraticRegulator&lt;States extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,&#8203;Inputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,&#8203;Outputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>&gt;</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">edu.wpi.first.math.controller.LinearQuadraticRegulator&lt;States,&#8203;Inputs,&#8203;Outputs&gt;</div>
</div>
<section class="description">
<hr>
<pre>public class <a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.26">LinearQuadraticRegulator</a>&lt;States extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,&#8203;Inputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,&#8203;Outputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>&gt;
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Contains the controller coefficients and logic for a linear-quadratic regulator (LQR). LQRs use
 the control law u = K(r - x).

 <p>For more on the underlying math, read
 https://file.tavsys.net/control/controls-engineering-in-frc.pdf.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,double)">LinearQuadraticRegulator</a></span>&#8203;(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;Q,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;R,
double&nbsp;dtSeconds)</code></th>
<td class="colLast">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,double)">LinearQuadraticRegulator</a></span>&#8203;(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;Q,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;R,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;N,
double&nbsp;dtSeconds)</code></th>
<td class="colLast">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Vector,edu.wpi.first.math.Vector,double)">LinearQuadraticRegulator</a></span>&#8203;(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
<a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;qelms,
<a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;relms,
double&nbsp;dtSeconds)</code></th>
<td class="colLast">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(edu.wpi.first.math.Nat,edu.wpi.first.math.Nat,edu.wpi.first.math.Matrix)">LinearQuadraticRegulator</a></span>&#8203;(<a href="../Nat.html" title="interface in edu.wpi.first.math">Nat</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;states,
<a href="../Nat.html" title="interface in edu.wpi.first.math">Nat</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;inputs,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;k)</code></th>
<td class="colLast">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(edu.wpi.first.math.system.LinearSystem,edu.wpi.first.math.Vector,edu.wpi.first.math.Vector,double)">LinearQuadraticRegulator</a></span>&#8203;(<a href="../system/LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Outputs</a>&gt;&nbsp;plant,
<a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;qelms,
<a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;relms,
double&nbsp;dtSeconds)</code></th>
<td class="colLast">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculate(edu.wpi.first.math.Matrix)">calculate</a></span>&#8203;(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;x)</code></th>
<td class="colLast">
<div class="block">Returns the next output of the controller.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculate(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix)">calculate</a></span>&#8203;(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;x,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;nextR)</code></th>
<td class="colLast">
<div class="block">Returns the next output of the controller.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getK()">getK</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the controller matrix K.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getR()">getR</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the reference vector r.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getR(int)">getR</a></span>&#8203;(int&nbsp;row)</code></th>
<td class="colLast">
<div class="block">Returns an element of the reference vector r.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getU()">getU</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the control input vector u.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getU(int)">getU</a></span>&#8203;(int&nbsp;row)</code></th>
<td class="colLast">
<div class="block">Returns an element of the control input vector u.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#latencyCompensate(edu.wpi.first.math.system.LinearSystem,double,double)">latencyCompensate</a></span>&#8203;(<a href="../system/LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Outputs</a>&gt;&nbsp;plant,
double&nbsp;dtSeconds,
double&nbsp;inputDelaySeconds)</code></th>
<td class="colLast">
<div class="block">Adjusts LQR controller gain to compensate for a pure time delay in the input.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reset()">reset</a></span>()</code></th>
<td class="colLast">
<div class="block">Resets the controller.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(edu.wpi.first.math.system.LinearSystem,edu.wpi.first.math.Vector,edu.wpi.first.math.Vector,double)">LinearQuadraticRegulator</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.48">LinearQuadraticRegulator</a></span>&#8203;(<span class="arguments"><a href="../system/LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Outputs</a>&gt;&nbsp;plant,
<a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;qelms,
<a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;relms,
double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant. Rho is defaulted to 1.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>plant</code> - The plant being controlled.</dd>
<dd><code>qelms</code> - The maximum desired error tolerance for each state.</dd>
<dd><code>relms</code> - The maximum desired control effort for each input.</dd>
<dd><code>dtSeconds</code> - Discretization timestep.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Vector,edu.wpi.first.math.Vector,double)">LinearQuadraticRegulator</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.70">LinearQuadraticRegulator</a></span>&#8203;(<span class="arguments"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
<a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;qelms,
<a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;relms,
double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>A</code> - Continuous system matrix of the plant being controlled.</dd>
<dd><code>B</code> - Continuous input matrix of the plant being controlled.</dd>
<dd><code>qelms</code> - The maximum desired error tolerance for each state.</dd>
<dd><code>relms</code> - The maximum desired control effort for each input.</dd>
<dd><code>dtSeconds</code> - Discretization timestep.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,double)">LinearQuadraticRegulator</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.94">LinearQuadraticRegulator</a></span>&#8203;(<span class="arguments"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;Q,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;R,
double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>A</code> - Continuous system matrix of the plant being controlled.</dd>
<dd><code>B</code> - Continuous input matrix of the plant being controlled.</dd>
<dd><code>Q</code> - The state cost matrix.</dd>
<dd><code>R</code> - The input cost matrix.</dd>
<dd><code>dtSeconds</code> - Discretization timestep.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,double)">LinearQuadraticRegulator</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.145">LinearQuadraticRegulator</a></span>&#8203;(<span class="arguments"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;Q,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;R,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;N,
double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>A</code> - Continuous system matrix of the plant being controlled.</dd>
<dd><code>B</code> - Continuous input matrix of the plant being controlled.</dd>
<dd><code>Q</code> - The state cost matrix.</dd>
<dd><code>R</code> - The input cost matrix.</dd>
<dd><code>N</code> - The state-input cross-term cost matrix.</dd>
<dd><code>dtSeconds</code> - Discretization timestep.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(edu.wpi.first.math.Nat,edu.wpi.first.math.Nat,edu.wpi.first.math.Matrix)">LinearQuadraticRegulator</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.181">LinearQuadraticRegulator</a></span>&#8203;(<span class="arguments"><a href="../Nat.html" title="interface in edu.wpi.first.math">Nat</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;states,
<a href="../Nat.html" title="interface in edu.wpi.first.math">Nat</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;inputs,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;k)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>states</code> - The number of states.</dd>
<dd><code>inputs</code> - The number of inputs.</dd>
<dd><code>k</code> - The gain matrix.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getU()">getU</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.197">getU</a></span>()</div>
<div class="block">Returns the control input vector u.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The control input.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getU(int)">getU</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.207">getU</a></span>&#8203;(<span class="arguments">int&nbsp;row)</span></div>
<div class="block">Returns an element of the control input vector u.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - Row of u.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The row of the control input vector.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getR()">getR</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.216">getR</a></span>()</div>
<div class="block">Returns the reference vector r.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The reference vector.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getR(int)">getR</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.226">getR</a></span>&#8203;(<span class="arguments">int&nbsp;row)</span></div>
<div class="block">Returns an element of the reference vector r.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>row</code> - Row of r.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The row of the reference vector.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getK()">getK</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.235">getK</a></span>()</div>
<div class="block">Returns the controller matrix K.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the controller matrix K.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="reset()">reset</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.240">reset</a></span>()</div>
<div class="block">Resets the controller.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="calculate(edu.wpi.first.math.Matrix)">calculate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.251">calculate</a></span>&#8203;(<span class="arguments"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;x)</span></div>
<div class="block">Returns the next output of the controller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - The current state x.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The next controller output.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="calculate(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix)">calculate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.264">calculate</a></span>&#8203;(<span class="arguments"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;x,
<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;nextR)</span></div>
<div class="block">Returns the next output of the controller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - The current state x.</dd>
<dd><code>nextR</code> - the next reference vector r.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The next controller output.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="latencyCompensate(edu.wpi.first.math.system.LinearSystem,double,double)">latencyCompensate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line.284">latencyCompensate</a></span>&#8203;(<span class="arguments"><a href="../system/LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,&#8203;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Outputs</a>&gt;&nbsp;plant,
double&nbsp;dtSeconds,
double&nbsp;inputDelaySeconds)</span></div>
<div class="block">Adjusts LQR controller gain to compensate for a pure time delay in the input.

 <p>Linear-Quadratic regulator controller gains tend to be aggressive. If sensor measurements
 are time-delayed too long, the LQR may be unstable. However, if we know the amount of delay, we
 can compute the control based on where the system will be after the time delay.

 <p>See https://file.tavsys.net/control/controls-engineering-in-frc.pdf appendix C.4 for a
 derivation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>plant</code> - The plant being controlled.</dd>
<dd><code>dtSeconds</code> - Discretization timestep in seconds.</dd>
<dd><code>inputDelaySeconds</code> - Input time delay in seconds.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
