<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>RamseteController (WPILib API 2021.1.2-20-gcfdb305)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: edu.wpi.first.wpilibj.controller, class: RamseteController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">edu.wpi.first.wpilibj.controller</a></div>
<h1 title="Class RamseteController" class="title">Class RamseteController</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a>
<div class="inheritance">edu.wpi.first.wpilibj.controller.RamseteController</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">RamseteController</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Ramsete is a nonlinear time-varying feedback controller for unicycle models that drives the model
 to a desired pose along a two-dimensional trajectory. Why would we need a nonlinear control law
 in addition to the linear ones we have used so far like PID? If we use the original approach with
 PID controllers for left and right position and velocity states, the controllers only deal with
 the local pose. If the robot deviates from the path, there is no way for the controllers to
 correct and the robot may not reach the desired global pose. This is due to multiple endpoints
 existing for the robot which have the same encoder path arc lengths.

 <p>Instead of using wheel path arc lengths (which are in the robot's local coordinate frame),
 nonlinear controllers like pure pursuit and Ramsete use global pose. The controller uses this
 extra information to guide a linear reference tracker like the PID controllers back in by
 adjusting the references of the PID controllers.

 <p>The paper "Control of Wheeled Mobile Robots: An Experimental Overview" describes a nonlinear
 controller for a wheeled vehicle with unicycle-like kinematics; a global pose consisting of x, y,
 and theta; and a desired pose consisting of x_d, y_d, and theta_d. We call it Ramsete because
 that's the acronym for the title of the book it came from in Italian ("Robotica Articolata e
 Mobile per i SErvizi e le TEcnologie").

 <p>See <a href="https://file.tavsys.net/control/controls-engineering-in-frc.pdf">Controls
 Engineering in the FIRST Robotics Competition</a> section on Ramsete unicycle controller for a
 derivation and analysis.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">RamseteController</a></span>()</code></th>
<td class="colLast">
<div class="block">Construct a Ramsete unicycle controller.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(double,double)">RamseteController</a></span>&#8203;(double&nbsp;b,
double&nbsp;zeta)</code></th>
<td class="colLast">
<div class="block">Construct a Ramsete unicycle controller.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#atReference()">atReference</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if the pose error is within tolerance of the reference.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="../kinematics/ChassisSpeeds.html" title="class in edu.wpi.first.wpilibj.kinematics">ChassisSpeeds</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculate(edu.wpi.first.wpilibj.geometry.Pose2d,edu.wpi.first.wpilibj.geometry.Pose2d,double,double)">calculate</a></span>&#8203;(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.wpilibj.geometry">Pose2d</a>&nbsp;currentPose,
<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.wpilibj.geometry">Pose2d</a>&nbsp;poseRef,
double&nbsp;linearVelocityRefMeters,
double&nbsp;angularVelocityRefRadiansPerSecond)</code></th>
<td class="colLast">
<div class="block">Returns the next output of the Ramsete controller.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="../kinematics/ChassisSpeeds.html" title="class in edu.wpi.first.wpilibj.kinematics">ChassisSpeeds</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#calculate(edu.wpi.first.wpilibj.geometry.Pose2d,edu.wpi.first.wpilibj.trajectory.Trajectory.State)">calculate</a></span>&#8203;(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.wpilibj.geometry">Pose2d</a>&nbsp;currentPose,
<a href="../trajectory/Trajectory.State.html" title="class in edu.wpi.first.wpilibj.trajectory">Trajectory.State</a>&nbsp;desiredState)</code></th>
<td class="colLast">
<div class="block">Returns the next output of the Ramsete controller.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setEnabled(boolean)">setEnabled</a></span>&#8203;(boolean&nbsp;enabled)</code></th>
<td class="colLast">
<div class="block">Enables and disables the controller for troubleshooting purposes.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTolerance(edu.wpi.first.wpilibj.geometry.Pose2d)">setTolerance</a></span>&#8203;(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.wpilibj.geometry">Pose2d</a>&nbsp;poseTolerance)</code></th>
<td class="colLast">
<div class="block">Sets the pose error which is considered tolerable for use with atReference().</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(double,double)">RamseteController</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">RamseteController</span>&#8203;(<span class="arguments">double&nbsp;b,
double&nbsp;zeta)</span></div>
<div class="block">Construct a Ramsete unicycle controller.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>b</code> - Tuning parameter (b &gt; 0) for which larger values make convergence more aggressive
     like a proportional term.</dd>
<dd><code>zeta</code> - Tuning parameter (0 &lt; zeta &lt; 1) for which larger values provide more damping
     in response.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">RamseteController</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">RamseteController</span>()</div>
<div class="block">Construct a Ramsete unicycle controller. The default arguments for b and zeta of 2.0 and 0.7
 have been well-tested to produce desirable results.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="atReference()">atReference</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">atReference</span>()</div>
<div class="block">Returns true if the pose error is within tolerance of the reference.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setTolerance(edu.wpi.first.wpilibj.geometry.Pose2d)">setTolerance</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setTolerance</span>&#8203;(<span class="arguments"><a href="../geometry/Pose2d.html" title="class in edu.wpi.first.wpilibj.geometry">Pose2d</a>&nbsp;poseTolerance)</span></div>
<div class="block">Sets the pose error which is considered tolerable for use with atReference().</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>poseTolerance</code> - Pose error which is tolerable.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="calculate(edu.wpi.first.wpilibj.geometry.Pose2d,edu.wpi.first.wpilibj.geometry.Pose2d,double,double)">calculate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../kinematics/ChassisSpeeds.html" title="class in edu.wpi.first.wpilibj.kinematics">ChassisSpeeds</a></span>&nbsp;<span class="memberName">calculate</span>&#8203;(<span class="arguments"><a href="../geometry/Pose2d.html" title="class in edu.wpi.first.wpilibj.geometry">Pose2d</a>&nbsp;currentPose,
<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.wpilibj.geometry">Pose2d</a>&nbsp;poseRef,
double&nbsp;linearVelocityRefMeters,
double&nbsp;angularVelocityRefRadiansPerSecond)</span></div>
<div class="block">Returns the next output of the Ramsete controller.

 <p>The reference pose, linear velocity, and angular velocity should come from a drivetrain
 trajectory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentPose</code> - The current pose.</dd>
<dd><code>poseRef</code> - The desired pose.</dd>
<dd><code>linearVelocityRefMeters</code> - The desired linear velocity in meters per second.</dd>
<dd><code>angularVelocityRefRadiansPerSecond</code> - The desired angular velocity in radians per second.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="calculate(edu.wpi.first.wpilibj.geometry.Pose2d,edu.wpi.first.wpilibj.trajectory.Trajectory.State)">calculate</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="../kinematics/ChassisSpeeds.html" title="class in edu.wpi.first.wpilibj.kinematics">ChassisSpeeds</a></span>&nbsp;<span class="memberName">calculate</span>&#8203;(<span class="arguments"><a href="../geometry/Pose2d.html" title="class in edu.wpi.first.wpilibj.geometry">Pose2d</a>&nbsp;currentPose,
<a href="../trajectory/Trajectory.State.html" title="class in edu.wpi.first.wpilibj.trajectory">Trajectory.State</a>&nbsp;desiredState)</span></div>
<div class="block">Returns the next output of the Ramsete controller.

 <p>The reference pose, linear velocity, and angular velocity should come from a drivetrain
 trajectory.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>currentPose</code> - The current pose.</dd>
<dd><code>desiredState</code> - The desired pose, linear velocity, and angular velocity from a trajectory.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setEnabled(boolean)">setEnabled</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">setEnabled</span>&#8203;(<span class="arguments">boolean&nbsp;enabled)</span></div>
<div class="block">Enables and disables the controller for troubleshooting purposes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enabled</code> - If the controller is enabled or not.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
