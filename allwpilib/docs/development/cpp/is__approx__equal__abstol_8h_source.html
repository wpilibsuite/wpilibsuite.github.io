<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WPILibC++: drake/common/is_approx_equal_abstol.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="wpilib-128.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WPILibC++<span id="projectnumber">&#160;2022.3.1-14-g4e3cc25</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('is__approx__equal__abstol_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">is_approx_equal_abstol.h</div></div>
</div><!--header-->
<div class="contents">
<a href="is__approx__equal__abstol_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;<a class="code" href="_core.html">Eigen/Core</a>&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacedrake.html">drake</a> {</div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"></span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">/// Returns true if and only if the two matrices are equal to within a certain</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">/// absolute elementwise @p tolerance.  Special values (infinities, NaN, etc.)</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">/// do not compare as equal elements.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> DerivedA, <span class="keyword">typename</span> DerivedB&gt;</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno"><a class="line" href="namespacedrake.html#a3cd8151cc95b5b95de9a9b882e27ed84">   13</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacedrake.html#a3cd8151cc95b5b95de9a9b882e27ed84">is_approx_equal_abstol</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_eigen_1_1_matrix_base.html">Eigen::MatrixBase&lt;DerivedA&gt;</a>&amp; m1,</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>                            <span class="keyword">const</span> <a class="code hl_class" href="class_eigen_1_1_matrix_base.html">Eigen::MatrixBase&lt;DerivedB&gt;</a>&amp; m2,</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>                            <span class="keywordtype">double</span> tolerance) {</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>  <span class="keywordflow">return</span> (</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>      (m1.rows() == m2.rows()) &amp;&amp;</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>      (m1.cols() == m2.cols()) &amp;&amp;</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>      ((m1 - m2).template lpNorm&lt;Eigen::Infinity&gt;() &lt;= tolerance));</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>}</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment"></span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">/// Returns true if and only if a simple greedy search reveals a permutation</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment">/// of the columns of m2 to make the matrix equal to m1 to within a certain</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment">/// absolute elementwise @p tolerance. E.g., there exists a P such that</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">/// &lt;pre&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">///    forall i,j,  |m1 - m2*P|_{i,j} &lt;= tolerance</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">///    where P is a permutation matrix:</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">///       P(i,j)={0,1}, sum_i P(i,j)=1, sum_j P(i,j)=1.</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment">/// &lt;/pre&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment">/// Note: Returns false for matrices of different sizes.</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment">/// Note: The current implementation is O(n^2) in the number of columns.</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="comment">/// Note: In marginal cases (with similar but not identical columns) this</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="comment">/// algorithm can fail to find a permutation P even if it exists because it</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">/// accepts the first column match (m1(i),m2(j)) and removes m2(j) from the</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">/// pool. It is possible that other columns of m2 would also match m1(i) but</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">/// that m2(j) is the only match possible for a later column of m1.</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> DerivedA, <span class="keyword">typename</span> DerivedB&gt;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="namespacedrake.html#ab8c3f5f0514513155be9f674f2c2cd63">   38</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="namespacedrake.html#ab8c3f5f0514513155be9f674f2c2cd63">IsApproxEqualAbsTolWithPermutedColumns</a>(</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_eigen_1_1_matrix_base.html">Eigen::MatrixBase&lt;DerivedA&gt;</a>&amp; m1,</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_eigen_1_1_matrix_base.html">Eigen::MatrixBase&lt;DerivedB&gt;</a>&amp; m2, <span class="keywordtype">double</span> tolerance) {</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>  <span class="keywordflow">if</span> ((m1.cols() != m2.cols()) || (m1.rows() != m2.rows())) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>  std::vector&lt;bool&gt; <a class="code hl_variable" href="_third_party_notices_8txt.html#a4835db66bbf715a0269996098abf4e94">available</a>(m2.cols());</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m2.cols(); i++) <a class="code hl_variable" href="_third_party_notices_8txt.html#a4835db66bbf715a0269996098abf4e94">available</a>[i] = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m1.cols(); i++) {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="keywordtype">bool</span> found_match = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; m2.cols(); j++) {</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="_third_party_notices_8txt.html#a4835db66bbf715a0269996098abf4e94">available</a>[j] &amp;&amp;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>          <a class="code hl_function" href="namespacedrake.html#a3cd8151cc95b5b95de9a9b882e27ed84">is_approx_equal_abstol</a>(m1.col(i), m2.col(j), tolerance)) {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        found_match = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        <a class="code hl_variable" href="_third_party_notices_8txt.html#a4835db66bbf715a0269996098abf4e94">available</a>[j] = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>      }</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    }</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <span class="keywordflow">if</span> (!found_match) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>  }</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>}</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>}  <span class="comment">// namespace drake</span></div>
<div class="ttc" id="a_core_html"><div class="ttname"><a href="_core.html">Core</a></div></div>
<div class="ttc" id="a_third_party_notices_8txt_html_a4835db66bbf715a0269996098abf4e94"><div class="ttname"><a href="_third_party_notices_8txt.html#a4835db66bbf715a0269996098abf4e94">available</a></div><div class="ttdeci">including without and apparatus in any patent Licensable by such Contributor that would be but for the grant of the by the offering for having or transfer of either its Contributions or its Contributor Version Secondary License means either the GNU General Public the GNU Lesser General Public the GNU Affero General Public or any later versions of those licenses Source Code Form means the form of the work preferred for making modifications You includes any entity that is controlled or is under common control with You For purposes of this control direct or to cause the direction or management of such whether by contract or royalty non exclusive make available</div><div class="ttdef"><b>Definition:</b> ThirdPartyNotices.txt:511</div></div>
<div class="ttc" id="aclass_eigen_1_1_matrix_base_html"><div class="ttname"><a href="class_eigen_1_1_matrix_base.html">Eigen::MatrixBase</a></div><div class="ttdoc">Base class for all dense matrices, vectors, and expressions.</div><div class="ttdef"><b>Definition:</b> MatrixBase.h:50</div></div>
<div class="ttc" id="anamespacedrake_html"><div class="ttname"><a href="namespacedrake.html">drake</a></div><div class="ttdef"><b>Definition:</b> discrete_algebraic_riccati_equation.h:9</div></div>
<div class="ttc" id="anamespacedrake_html_a3cd8151cc95b5b95de9a9b882e27ed84"><div class="ttname"><a href="namespacedrake.html#a3cd8151cc95b5b95de9a9b882e27ed84">drake::is_approx_equal_abstol</a></div><div class="ttdeci">bool is_approx_equal_abstol(const Eigen::MatrixBase&lt; DerivedA &gt; &amp;m1, const Eigen::MatrixBase&lt; DerivedB &gt; &amp;m2, double tolerance)</div><div class="ttdoc">Returns true if and only if the two matrices are equal to within a certain absolute elementwise toler...</div><div class="ttdef"><b>Definition:</b> is_approx_equal_abstol.h:13</div></div>
<div class="ttc" id="anamespacedrake_html_ab8c3f5f0514513155be9f674f2c2cd63"><div class="ttname"><a href="namespacedrake.html#ab8c3f5f0514513155be9f674f2c2cd63">drake::IsApproxEqualAbsTolWithPermutedColumns</a></div><div class="ttdeci">bool IsApproxEqualAbsTolWithPermutedColumns(const Eigen::MatrixBase&lt; DerivedA &gt; &amp;m1, const Eigen::MatrixBase&lt; DerivedB &gt; &amp;m2, double tolerance)</div><div class="ttdoc">Returns true if and only if a simple greedy search reveals a permutation of the columns of m2 to make...</div><div class="ttdef"><b>Definition:</b> is_approx_equal_abstol.h:38</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3096fa119feaaf68acf7be783be3d79f.html">drake</a></li><li class="navelem"><a class="el" href="dir_533b608e0d491fadd970e32351d4ba56.html">common</a></li><li class="navelem"><a class="el" href="is__approx__equal__abstol_8h.html">is_approx_equal_abstol.h</a></li>
    <li class="footer">Generated on Tue Feb 8 2022 21:23:06 for WPILibC++ by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
