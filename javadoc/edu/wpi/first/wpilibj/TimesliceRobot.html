<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>TimesliceRobot (WPILib API 2025.1.1-beta-1)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: edu.wpi.first.wpilibj, class: TimesliceRobot">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">edu.wpi.first.wpilibj</a></div>
<h1 title="Class TimesliceRobot" class="title">Class TimesliceRobot</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="RobotBase.html" title="class in edu.wpi.first.wpilibj">edu.wpi.first.wpilibj.RobotBase</a>
<div class="inheritance"><a href="IterativeRobotBase.html" title="class in edu.wpi.first.wpilibj">edu.wpi.first.wpilibj.IterativeRobotBase</a>
<div class="inheritance"><a href="TimedRobot.html" title="class in edu.wpi.first.wpilibj">edu.wpi.first.wpilibj.TimedRobot</a>
<div class="inheritance">edu.wpi.first.wpilibj.TimesliceRobot</div>
</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../src-html/edu/wpi/first/wpilibj/TimesliceRobot.html#line-73">TimesliceRobot</a></span>
<span class="extends-implements">extends <a href="TimedRobot.html" title="class in edu.wpi.first.wpilibj">TimedRobot</a></span></div>
<div class="block">TimesliceRobot extends the TimedRobot robot program framework to provide timeslice scheduling of
 periodic functions.

 <p>The TimesliceRobot class is intended to be subclassed by a user creating a robot program.

 <p>This class schedules robot operations serially in a timeslice format. TimedRobot's periodic
 functions are the first in the timeslice table with 0 ms offset and 20 ms period. You can
 schedule additional controller periodic functions at a shorter period (5 ms by default). You give
 each one a timeslice duration, then they're run sequentially. The main benefit of this approach
 is consistent starting times for each controller periodic, which can make odometry and estimators
 more accurate and controller outputs change more consistently.

 <p>Here's an example of measured subsystem durations and their timeslice allocations:

 <table>
   <tr>
     <td><b>Subsystem</b></td>
     <td><b>Duration (ms)</b></td>
     <td><b>Allocation (ms)</b></td>
   </tr>
   <tr>
     <td><b>Total</b></td>
     <td>5.0</td>
     <td>5.0</td>
   </tr>
   <tr>
     <td>TimedRobot</td>
     <td>?</td>
     <td>2.0</td>
   </tr>
   <tr>
     <td>Drivetrain</td>
     <td>1.32</td>
     <td>1.5</td>
   </tr>
   <tr>
     <td>Flywheel</td>
     <td>0.6</td>
     <td>0.7</td>
   </tr>
   <tr>
     <td>Turret</td>
     <td>0.6</td>
     <td>0.8</td>
   </tr>
   <tr>
     <td><b>Free</b></td>
     <td>0.0</td>
     <td>N/A</td>
   </tr>
 </table>

 <p>Since TimedRobot periodic functions only run every 20ms, that leaves a 2 ms empty spot in the
 allocation table for three of the four 5 ms cycles comprising 20 ms. That's OK because the OS
 needs time to do other things.

 <p>If the robot periodic functions and the controller periodic functions have a lot of scheduling
 jitter that cause them to occasionally overlap with later timeslices, consider giving the main
 robot thread a real-time priority using <a href="Threads.html#setCurrentThreadPriority(boolean,int)"><code>Threads.setCurrentThreadPriority(boolean,int)</code></a>. An
 RT priority of 15 is a reasonable choice.

 <p>If you do enable RT though, <i>make sure your periodic functions do not block</i>. If they do,
 the operating system will lock up, and you'll have to boot the roboRIO into safe mode and delete
 the robot program to recover.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-edu.wpi.first.wpilibj.TimedRobot">Fields inherited from class&nbsp;edu.wpi.first.wpilibj.<a href="TimedRobot.html" title="class in edu.wpi.first.wpilibj">TimedRobot</a></h3>
<code><a href="TimedRobot.html#kDefaultPeriod">kDefaultPeriod</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(double,double)" class="member-name-link">TimesliceRobot</a><wbr>(double&nbsp;robotPeriodicAllocation,
 double&nbsp;controllerPeriod)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for TimesliceRobot.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#schedule(java.lang.Runnable,double)" class="member-name-link">schedule</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;func,
 double&nbsp;allocation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Schedule a periodic function with the constructor's controller period and the given allocation.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-edu.wpi.first.wpilibj.TimedRobot">Methods inherited from class&nbsp;edu.wpi.first.wpilibj.<a href="TimedRobot.html" title="class in edu.wpi.first.wpilibj">TimedRobot</a></h3>
<code><a href="TimedRobot.html#addPeriodic(java.lang.Runnable,double)">addPeriodic</a>, <a href="TimedRobot.html#addPeriodic(java.lang.Runnable,double,double)">addPeriodic</a>, <a href="TimedRobot.html#addPeriodic(java.lang.Runnable,edu.wpi.first.units.measure.Time)">addPeriodic</a>, <a href="TimedRobot.html#addPeriodic(java.lang.Runnable,edu.wpi.first.units.measure.Time,edu.wpi.first.units.measure.Time)">addPeriodic</a>, <a href="TimedRobot.html#close()">close</a>, <a href="TimedRobot.html#endCompetition()">endCompetition</a>, <a href="TimedRobot.html#startCompetition()">startCompetition</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-edu.wpi.first.wpilibj.IterativeRobotBase">Methods inherited from class&nbsp;edu.wpi.first.wpilibj.<a href="IterativeRobotBase.html" title="class in edu.wpi.first.wpilibj">IterativeRobotBase</a></h3>
<code><a href="IterativeRobotBase.html#autonomousExit()">autonomousExit</a>, <a href="IterativeRobotBase.html#autonomousInit()">autonomousInit</a>, <a href="IterativeRobotBase.html#autonomousPeriodic()">autonomousPeriodic</a>, <a href="IterativeRobotBase.html#disabledExit()">disabledExit</a>, <a href="IterativeRobotBase.html#disabledInit()">disabledInit</a>, <a href="IterativeRobotBase.html#disabledPeriodic()">disabledPeriodic</a>, <a href="IterativeRobotBase.html#driverStationConnected()">driverStationConnected</a>, <a href="IterativeRobotBase.html#enableLiveWindowInTest(boolean)">enableLiveWindowInTest</a>, <a href="IterativeRobotBase.html#getPeriod()">getPeriod</a>, <a href="IterativeRobotBase.html#isLiveWindowEnabledInTest()">isLiveWindowEnabledInTest</a>, <a href="IterativeRobotBase.html#loopFunc()">loopFunc</a>, <a href="IterativeRobotBase.html#printWatchdogEpochs()">printWatchdogEpochs</a>, <a href="IterativeRobotBase.html#robotInit()">robotInit</a>, <a href="IterativeRobotBase.html#robotPeriodic()">robotPeriodic</a>, <a href="IterativeRobotBase.html#setNetworkTablesFlushEnabled(boolean)">setNetworkTablesFlushEnabled</a>, <a href="IterativeRobotBase.html#simulationInit()">simulationInit</a>, <a href="IterativeRobotBase.html#simulationPeriodic()">simulationPeriodic</a>, <a href="IterativeRobotBase.html#teleopExit()">teleopExit</a>, <a href="IterativeRobotBase.html#teleopInit()">teleopInit</a>, <a href="IterativeRobotBase.html#teleopPeriodic()">teleopPeriodic</a>, <a href="IterativeRobotBase.html#testExit()">testExit</a>, <a href="IterativeRobotBase.html#testInit()">testInit</a>, <a href="IterativeRobotBase.html#testPeriodic()">testPeriodic</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-edu.wpi.first.wpilibj.RobotBase">Methods inherited from class&nbsp;edu.wpi.first.wpilibj.<a href="RobotBase.html" title="class in edu.wpi.first.wpilibj">RobotBase</a></h3>
<code><a href="RobotBase.html#getMainThreadId()">getMainThreadId</a>, <a href="RobotBase.html#getRuntimeType()">getRuntimeType</a>, <a href="RobotBase.html#isAutonomous()">isAutonomous</a>, <a href="RobotBase.html#isAutonomousEnabled()">isAutonomousEnabled</a>, <a href="RobotBase.html#isDisabled()">isDisabled</a>, <a href="RobotBase.html#isEnabled()">isEnabled</a>, <a href="RobotBase.html#isReal()">isReal</a>, <a href="RobotBase.html#isSimulation()">isSimulation</a>, <a href="RobotBase.html#isTeleop()">isTeleop</a>, <a href="RobotBase.html#isTeleopEnabled()">isTeleopEnabled</a>, <a href="RobotBase.html#isTest()">isTest</a>, <a href="RobotBase.html#isTestEnabled()">isTestEnabled</a>, <a href="RobotBase.html#startRobot(java.util.function.Supplier)">startRobot</a>, <a href="RobotBase.html#suppressExitWarning(boolean)">suppressExitWarning</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(double,double)">
<h3>TimesliceRobot</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../src-html/edu/wpi/first/wpilibj/TimesliceRobot.html#line-82">TimesliceRobot</a></span><wbr><span class="parameters">(double&nbsp;robotPeriodicAllocation,
 double&nbsp;controllerPeriod)</span></div>
<div class="block">Constructor for TimesliceRobot.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>robotPeriodicAllocation</code> - The allocation in seconds to give the TimesliceRobot periodic
     functions.</dd>
<dd><code>controllerPeriod</code> - The controller period in seconds. The sum of all scheduler allocations
     should be less than or equal to this value.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="schedule(java.lang.Runnable,double)">
<h3>schedule</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../src-html/edu/wpi/first/wpilibj/TimesliceRobot.html#line-98">schedule</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;func,
 double&nbsp;allocation)</span></div>
<div class="block">Schedule a periodic function with the constructor's controller period and the given allocation.
 The function's runtime allocation will be placed after the end of the previous one's.

 <p>If a call to this function makes the allocations exceed the controller period, an exception
 will be thrown since that means the TimesliceRobot periodic functions and the given function
 will have conflicting timeslices.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>func</code> - Function to schedule.</dd>
<dd><code>allocation</code> - The function's runtime allocation in seconds out of the controller period.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
