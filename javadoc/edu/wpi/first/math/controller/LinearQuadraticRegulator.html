<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>LinearQuadraticRegulator (WPILib API 2025.1.1-beta-1-35-g9a5f73d)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: edu.wpi.first.math.controller, class: LinearQuadraticRegulator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">edu.wpi.first.math.controller</a></div>
<h1 title="Class LinearQuadraticRegulator" class="title">Class LinearQuadraticRegulator&lt;States extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,<wbr>Inputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,<wbr>Outputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">edu.wpi.first.math.controller.LinearQuadraticRegulator&lt;States,<wbr>Inputs,<wbr>Outputs&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>States</code> - Number of states.</dd>
<dd><code>Inputs</code> - Number of inputs.</dd>
<dd><code>Outputs</code> - Number of outputs.</dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-29">LinearQuadraticRegulator</a>&lt;States extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,<wbr>Inputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,<wbr>Outputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Contains the controller coefficients and logic for a linear-quadratic regulator (LQR). LQRs use
 the control law u = K(r - x).

 <p>For more on the underlying math, read <a href="https://file.tavsys.net/control/controls-engineering-in-frc.pdf">https://file.tavsys.net/control/controls-engineering-in-frc.pdf</a>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,double)" class="member-name-link">LinearQuadraticRegulator</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;Q,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;R,
 double&nbsp;dtSeconds)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,double)" class="member-name-link">LinearQuadraticRegulator</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;Q,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;R,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;N,
 double&nbsp;dtSeconds)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Vector,edu.wpi.first.math.Vector,double)" class="member-name-link">LinearQuadraticRegulator</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
 <a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;qelms,
 <a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;relms,
 double&nbsp;dtSeconds)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(edu.wpi.first.math.system.LinearSystem,edu.wpi.first.math.Vector,edu.wpi.first.math.Vector,double)" class="member-name-link">LinearQuadraticRegulator</a><wbr>(<a href="../system/LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Outputs</a>&gt;&nbsp;plant,
 <a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;qelms,
 <a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;relms,
 double&nbsp;dtSeconds)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a controller with the given coefficients and plant.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calculate(edu.wpi.first.math.Matrix)" class="member-name-link">calculate</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;x)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the next output of the controller.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calculate(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix)" class="member-name-link">calculate</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;x,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;nextR)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the next output of the controller.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getK()" class="member-name-link">getK</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the controller matrix K.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getR()" class="member-name-link">getR</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the reference vector r.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getR(int)" class="member-name-link">getR</a><wbr>(int&nbsp;row)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an element of the reference vector r.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getU()" class="member-name-link">getU</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the control input vector u.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getU(int)" class="member-name-link">getU</a><wbr>(int&nbsp;row)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an element of the control input vector u.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#latencyCompensate(edu.wpi.first.math.system.LinearSystem,double,double)" class="member-name-link">latencyCompensate</a><wbr>(<a href="../system/LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Outputs</a>&gt;&nbsp;plant,
 double&nbsp;dtSeconds,
 double&nbsp;inputDelaySeconds)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Adjusts LQR controller gain to compensate for a pure time delay in the input.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reset()" class="member-name-link">reset</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resets the controller.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(edu.wpi.first.math.system.LinearSystem,edu.wpi.first.math.Vector,edu.wpi.first.math.Vector,double)">
<h3>LinearQuadraticRegulator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-52">LinearQuadraticRegulator</a></span><wbr><span class="parameters">(<a href="../system/LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Outputs</a>&gt;&nbsp;plant,
 <a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;qelms,
 <a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;relms,
 double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant. Rho is defaulted to 1.

 <p>See <a href="https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-intro.html#lqr-tuning">https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-intro.html#lqr-tuning</a>
 for how to select the tolerances.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>plant</code> - The plant being controlled.</dd>
<dd><code>qelms</code> - The maximum desired error tolerance for each state.</dd>
<dd><code>relms</code> - The maximum desired control effort for each input.</dd>
<dd><code>dtSeconds</code> - Discretization timestep.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the system is unstabilizable.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Vector,edu.wpi.first.math.Vector,double)">
<h3>LinearQuadraticRegulator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-79">LinearQuadraticRegulator</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
 <a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;qelms,
 <a href="../Vector.html" title="class in edu.wpi.first.math">Vector</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;relms,
 double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant.

 <p>See <a href="https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-intro.html#lqr-tuning">https://docs.wpilib.org/en/stable/docs/software/advanced-controls/state-space/state-space-intro.html#lqr-tuning</a>
 for how to select the tolerances.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>A</code> - Continuous system matrix of the plant being controlled.</dd>
<dd><code>B</code> - Continuous input matrix of the plant being controlled.</dd>
<dd><code>qelms</code> - The maximum desired error tolerance for each state.</dd>
<dd><code>relms</code> - The maximum desired control effort for each input.</dd>
<dd><code>dtSeconds</code> - Discretization timestep.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the system is unstabilizable.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,double)">
<h3>LinearQuadraticRegulator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-103">LinearQuadraticRegulator</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;Q,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;R,
 double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>A</code> - Continuous system matrix of the plant being controlled.</dd>
<dd><code>B</code> - Continuous input matrix of the plant being controlled.</dd>
<dd><code>Q</code> - The state cost matrix.</dd>
<dd><code>R</code> - The input cost matrix.</dd>
<dd><code>dtSeconds</code> - Discretization timestep.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the system is unstabilizable.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix,double)">
<h3>LinearQuadraticRegulator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-152">LinearQuadraticRegulator</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;A,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;B,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;&nbsp;Q,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;R,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>&gt;&nbsp;N,
 double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a controller with the given coefficients and plant.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>A</code> - Continuous system matrix of the plant being controlled.</dd>
<dd><code>B</code> - Continuous input matrix of the plant being controlled.</dd>
<dd><code>Q</code> - The state cost matrix.</dd>
<dd><code>R</code> - The input cost matrix.</dd>
<dd><code>N</code> - The state-input cross-term cost matrix.</dd>
<dd><code>dtSeconds</code> - Discretization timestep.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the system is unstabilizable.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getU()">
<h3>getU</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-185">getU</a></span>()</div>
<div class="block">Returns the control input vector u.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The control input.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getU(int)">
<h3>getU</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-195">getU</a></span><wbr><span class="parameters">(int&nbsp;row)</span></div>
<div class="block">Returns an element of the control input vector u.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - Row of u.</dd>
<dt>Returns:</dt>
<dd>The row of the control input vector.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getR()">
<h3>getR</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-204">getR</a></span>()</div>
<div class="block">Returns the reference vector r.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The reference vector.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getR(int)">
<h3>getR</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-214">getR</a></span><wbr><span class="parameters">(int&nbsp;row)</span></div>
<div class="block">Returns an element of the reference vector r.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - Row of r.</dd>
<dt>Returns:</dt>
<dd>The row of the reference vector.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getK()">
<h3>getK</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-223">getK</a></span>()</div>
<div class="block">Returns the controller matrix K.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the controller matrix K.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reset()">
<h3>reset</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-228">reset</a></span>()</div>
<div class="block">Resets the controller.</div>
</section>
</li>
<li>
<section class="detail" id="calculate(edu.wpi.first.math.Matrix)">
<h3>calculate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-239">calculate</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;x)</span></div>
<div class="block">Returns the next output of the controller.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - The current state x.</dd>
<dt>Returns:</dt>
<dd>The next controller output.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="calculate(edu.wpi.first.math.Matrix,edu.wpi.first.math.Matrix)">
<h3>calculate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-251">calculate</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;x,
 <a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;nextR)</span></div>
<div class="block">Returns the next output of the controller.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - The current state x.</dd>
<dd><code>nextR</code> - the next reference vector r.</dd>
<dt>Returns:</dt>
<dd>The next controller output.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="latencyCompensate(edu.wpi.first.math.system.LinearSystem,double,double)">
<h3>latencyCompensate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/LinearQuadraticRegulator.html#line-271">latencyCompensate</a></span><wbr><span class="parameters">(<a href="../system/LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">States</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Inputs</a>,<wbr><a href="LinearQuadraticRegulator.html" title="type parameter in LinearQuadraticRegulator">Outputs</a>&gt;&nbsp;plant,
 double&nbsp;dtSeconds,
 double&nbsp;inputDelaySeconds)</span></div>
<div class="block">Adjusts LQR controller gain to compensate for a pure time delay in the input.

 <p>Linear-Quadratic regulator controller gains tend to be aggressive. If sensor measurements
 are time-delayed too long, the LQR may be unstable. However, if we know the amount of delay, we
 can compute the control based on where the system will be after the time delay.

 <p>See <a href="https://file.tavsys.net/control/controls-engineering-in-frc.pdf">https://file.tavsys.net/control/controls-engineering-in-frc.pdf</a>
 appendix C.4 for a derivation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>plant</code> - The plant being controlled.</dd>
<dd><code>dtSeconds</code> - Discretization timestep in seconds.</dd>
<dd><code>inputDelaySeconds</code> - Input time delay in seconds.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
