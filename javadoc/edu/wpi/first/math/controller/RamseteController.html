<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>RamseteController (WPILib API 2025.1.1-beta-1-35-g9a5f73d)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: edu.wpi.first.math.controller, class: RamseteController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">edu.wpi.first.math.controller</a></div>
<h1 title="Class RamseteController" class="title">Class RamseteController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">edu.wpi.first.math.controller.RamseteController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/RamseteController.html#line-35">RamseteController</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Ramsete is a nonlinear time-varying feedback controller for unicycle models that drives the model
 to a desired pose along a two-dimensional trajectory. Why would we need a nonlinear control law
 in addition to the linear ones we have used so far like PID? If we use the original approach with
 PID controllers for left and right position and velocity states, the controllers only deal with
 the local pose. If the robot deviates from the path, there is no way for the controllers to
 correct and the robot may not reach the desired global pose. This is due to multiple endpoints
 existing for the robot which have the same encoder path arc lengths.

 <p>Instead of using wheel path arc lengths (which are in the robot's local coordinate frame),
 nonlinear controllers like pure pursuit and Ramsete use global pose. The controller uses this
 extra information to guide a linear reference tracker like the PID controllers back in by
 adjusting the references of the PID controllers.

 <p>The paper "Control of Wheeled Mobile Robots: An Experimental Overview" describes a nonlinear
 controller for a wheeled vehicle with unicycle-like kinematics; a global pose consisting of x, y,
 and theta; and a desired pose consisting of x_d, y_d, and theta_d. We call it Ramsete because
 that's the acronym for the title of the book it came from in Italian ("Robotica Articolata e
 Mobile per i SErvizi e le TEcnologie").

 <p>See <a href="https://file.tavsys.net/control/controls-engineering-in-frc.pdf">Controls
 Engineering in the FIRST Robotics Competition</a> section on Ramsete unicycle controller for a
 derivation and analysis.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">RamseteController</a>()</code></div>
<div class="col-last even-row-color">
<div class="block"><span class="deprecated-label">Deprecated, for removal: This API element is subject to removal in a future version.</span>
<div class="deprecation-comment">Use LTVUnicycleController instead.</div>
</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(double,double)" class="member-name-link">RamseteController</a><wbr>(double&nbsp;b,
 double&nbsp;zeta)</code></div>
<div class="col-last odd-row-color">
<div class="block"><span class="deprecated-label">Deprecated, for removal: This API element is subject to removal in a future version.</span>
<div class="deprecation-comment">Use LTVUnicycleController instead.</div>
</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#atReference()" class="member-name-link">atReference</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the pose error is within tolerance of the reference.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../kinematics/ChassisSpeeds.html" title="class in edu.wpi.first.math.kinematics">ChassisSpeeds</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calculate(edu.wpi.first.math.geometry.Pose2d,edu.wpi.first.math.geometry.Pose2d,double,double)" class="member-name-link">calculate</a><wbr>(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.math.geometry">Pose2d</a>&nbsp;currentPose,
 <a href="../geometry/Pose2d.html" title="class in edu.wpi.first.math.geometry">Pose2d</a>&nbsp;poseRef,
 double&nbsp;linearVelocityRefMeters,
 double&nbsp;angularVelocityRefRadiansPerSecond)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the next output of the Ramsete controller.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../kinematics/ChassisSpeeds.html" title="class in edu.wpi.first.math.kinematics">ChassisSpeeds</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calculate(edu.wpi.first.math.geometry.Pose2d,edu.wpi.first.math.trajectory.Trajectory.State)" class="member-name-link">calculate</a><wbr>(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.math.geometry">Pose2d</a>&nbsp;currentPose,
 <a href="../trajectory/Trajectory.State.html" title="class in edu.wpi.first.math.trajectory">Trajectory.State</a>&nbsp;desiredState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the next output of the Ramsete controller.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setEnabled(boolean)" class="member-name-link">setEnabled</a><wbr>(boolean&nbsp;enabled)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enables and disables the controller for troubleshooting purposes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setTolerance(edu.wpi.first.math.geometry.Pose2d)" class="member-name-link">setTolerance</a><wbr>(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.math.geometry">Pose2d</a>&nbsp;poseTolerance)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the pose error which is considered tolerable for use with atReference().</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(double,double)">
<h3>RamseteController</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html#since()" title="class or interface in java.lang" class="external-link">since</a>="2025",
            <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html#forRemoval()" title="class or interface in java.lang" class="external-link">forRemoval</a>=true)
</span><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/RamseteController.html#line-53">RamseteController</a></span><wbr><span class="parameters">(double&nbsp;b,
 double&nbsp;zeta)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated, for removal: This API element is subject to removal in a future version.</span>
<div class="deprecation-comment">Use LTVUnicycleController instead.</div>
</div>
<div class="block">Construct a Ramsete unicycle controller.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>b</code> - Tuning parameter (b &gt; 0 rad²/m²) for which larger values make convergence more
     aggressive like a proportional term.</dd>
<dd><code>zeta</code> - Tuning parameter (0 rad⁻¹ &lt; zeta &lt; 1 rad⁻¹) for which larger values provide
     more damping in response.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>RamseteController</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html#since()" title="class or interface in java.lang" class="external-link">since</a>="2025",
            <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Deprecated.html#forRemoval()" title="class or interface in java.lang" class="external-link">forRemoval</a>=true)
</span><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/RamseteController.html#line-65">RamseteController</a></span>()</div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated, for removal: This API element is subject to removal in a future version.</span>
<div class="deprecation-comment">Use LTVUnicycleController instead.</div>
</div>
<div class="block">Construct a Ramsete unicycle controller. The default arguments for b and zeta of 2.0 rad²/m²
 and 0.7 rad⁻¹ have been well-tested to produce desirable results.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="atReference()">
<h3>atReference</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/RamseteController.html#line-75">atReference</a></span>()</div>
<div class="block">Returns true if the pose error is within tolerance of the reference.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if the pose error is within tolerance of the reference.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setTolerance(edu.wpi.first.math.geometry.Pose2d)">
<h3>setTolerance</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/RamseteController.html#line-90">setTolerance</a></span><wbr><span class="parameters">(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.math.geometry">Pose2d</a>&nbsp;poseTolerance)</span></div>
<div class="block">Sets the pose error which is considered tolerable for use with atReference().</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>poseTolerance</code> - Pose error which is tolerable.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="calculate(edu.wpi.first.math.geometry.Pose2d,edu.wpi.first.math.geometry.Pose2d,double,double)">
<h3>calculate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../kinematics/ChassisSpeeds.html" title="class in edu.wpi.first.math.kinematics">ChassisSpeeds</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/RamseteController.html#line-106">calculate</a></span><wbr><span class="parameters">(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.math.geometry">Pose2d</a>&nbsp;currentPose,
 <a href="../geometry/Pose2d.html" title="class in edu.wpi.first.math.geometry">Pose2d</a>&nbsp;poseRef,
 double&nbsp;linearVelocityRefMeters,
 double&nbsp;angularVelocityRefRadiansPerSecond)</span></div>
<div class="block">Returns the next output of the Ramsete controller.

 <p>The reference pose, linear velocity, and angular velocity should come from a drivetrain
 trajectory.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>currentPose</code> - The current pose.</dd>
<dd><code>poseRef</code> - The desired pose.</dd>
<dd><code>linearVelocityRefMeters</code> - The desired linear velocity in meters per second.</dd>
<dd><code>angularVelocityRefRadiansPerSecond</code> - The desired angular velocity in radians per second.</dd>
<dt>Returns:</dt>
<dd>The next controller output.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="calculate(edu.wpi.first.math.geometry.Pose2d,edu.wpi.first.math.trajectory.Trajectory.State)">
<h3>calculate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../kinematics/ChassisSpeeds.html" title="class in edu.wpi.first.math.kinematics">ChassisSpeeds</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/RamseteController.html#line-145">calculate</a></span><wbr><span class="parameters">(<a href="../geometry/Pose2d.html" title="class in edu.wpi.first.math.geometry">Pose2d</a>&nbsp;currentPose,
 <a href="../trajectory/Trajectory.State.html" title="class in edu.wpi.first.math.trajectory">Trajectory.State</a>&nbsp;desiredState)</span></div>
<div class="block">Returns the next output of the Ramsete controller.

 <p>The reference pose, linear velocity, and angular velocity should come from a drivetrain
 trajectory.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>currentPose</code> - The current pose.</dd>
<dd><code>desiredState</code> - The desired pose, linear velocity, and angular velocity from a trajectory.</dd>
<dt>Returns:</dt>
<dd>The next controller output.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setEnabled(boolean)">
<h3>setEnabled</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/controller/RamseteController.html#line-158">setEnabled</a></span><wbr><span class="parameters">(boolean&nbsp;enabled)</span></div>
<div class="block">Enables and disables the controller for troubleshooting purposes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>enabled</code> - If the controller is enabled or not.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
