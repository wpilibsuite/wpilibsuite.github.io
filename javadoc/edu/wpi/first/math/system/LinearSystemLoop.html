<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>LinearSystemLoop (WPILib API 2025.1.1-beta-1)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: edu.wpi.first.math.system, class: LinearSystemLoop">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">edu.wpi.first.math.system</a></div>
<h1 title="Class LinearSystemLoop" class="title">Class LinearSystemLoop&lt;States extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,<wbr>Inputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,<wbr>Outputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">edu.wpi.first.math.system.LinearSystemLoop&lt;States,<wbr>Inputs,<wbr>Outputs&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>States</code> - Number of states.</dd>
<dd><code>Inputs</code> - Number of inputs.</dd>
<dd><code>Outputs</code> - Number of outputs.</dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-35">LinearSystemLoop</a>&lt;States extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,<wbr>Inputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>,<wbr>Outputs extends <a href="../Num.html" title="class in edu.wpi.first.math">Num</a>&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Combines a controller, feedforward, and observer for controlling a mechanism with full state
 feedback.

 <p>For everything in this file, "inputs" and "outputs" are defined from the perspective of the
 plant. This means U is an input and Y is an output (because you give the plant U (powers) and it
 gives you back a Y (sensor values)). This is the opposite of what they mean from the perspective
 of the controller (U is an output because that's what goes to the motors and Y is an input
 because that's what comes back from the sensors).

 <p>For more on the underlying math, read <a href="https://file.tavsys.net/control/controls-engineering-in-frc.pdf">https://file.tavsys.net/control/controls-engineering-in-frc.pdf</a>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(edu.wpi.first.math.controller.LinearQuadraticRegulator,edu.wpi.first.math.controller.LinearPlantInversionFeedforward,edu.wpi.first.math.estimator.KalmanFilter,double)" class="member-name-link">LinearSystemLoop</a><wbr>(<a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;controller,
 <a href="../controller/LinearPlantInversionFeedforward.html" title="class in edu.wpi.first.math.controller">LinearPlantInversionFeedforward</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;feedforward,
 <a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;observer,
 double&nbsp;maxVoltageVolts)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a state-space loop with the given controller, feedforward and observer.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(edu.wpi.first.math.controller.LinearQuadraticRegulator,edu.wpi.first.math.controller.LinearPlantInversionFeedforward,edu.wpi.first.math.estimator.KalmanFilter,java.util.function.Function)" class="member-name-link">LinearSystemLoop</a><wbr>(<a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;controller,
 <a href="../controller/LinearPlantInversionFeedforward.html" title="class in edu.wpi.first.math.controller">LinearPlantInversionFeedforward</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;feedforward,
 <a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;observer,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;,<wbr><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&gt;&nbsp;clampFunction)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a state-space loop with the given controller, feedforward, and observer.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(edu.wpi.first.math.system.LinearSystem,edu.wpi.first.math.controller.LinearQuadraticRegulator,edu.wpi.first.math.estimator.KalmanFilter,double,double)" class="member-name-link">LinearSystemLoop</a><wbr>(<a href="LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;plant,
 <a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;controller,
 <a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;observer,
 double&nbsp;maxVoltageVolts,
 double&nbsp;dtSeconds)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a state-space loop with the given plant, controller, and observer.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(edu.wpi.first.math.system.LinearSystem,edu.wpi.first.math.controller.LinearQuadraticRegulator,edu.wpi.first.math.estimator.KalmanFilter,java.util.function.Function,double)" class="member-name-link">LinearSystemLoop</a><wbr>(<a href="LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;plant,
 <a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;controller,
 <a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;observer,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;,<wbr><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&gt;&nbsp;clampFunction,
 double&nbsp;dtSeconds)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a state-space loop with the given plant, controller, and observer.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clampInput(edu.wpi.first.math.Matrix)" class="member-name-link">clampInput</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;unclampedU)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clamp the input u to the min and max.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#correct(edu.wpi.first.math.Matrix)" class="member-name-link">correct</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;y)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Correct the state estimate x-hat using the measurements in y.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;,<wbr><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getClampFunction()" class="member-name-link">getClampFunction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the function used to clamp the input u.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getController()" class="member-name-link">getController</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the controller used internally.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getError()" class="member-name-link">getError</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns difference between reference r and current state x-hat.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getError(int)" class="member-name-link">getError</a><wbr>(int&nbsp;index)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns difference between reference r and current state x-hat.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../controller/LinearPlantInversionFeedforward.html" title="class in edu.wpi.first.math.controller">LinearPlantInversionFeedforward</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFeedforward()" class="member-name-link">getFeedforward</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the feedforward used internally.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNextR()" class="member-name-link">getNextR</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the controller's next reference r.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNextR(int)" class="member-name-link">getNextR</a><wbr>(int&nbsp;row)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an element of the controller's next reference r.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getObserver()" class="member-name-link">getObserver</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the observer used internally.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getU()" class="member-name-link">getU</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the controller's calculated control input u plus the calculated feedforward u_ff.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getU(int)" class="member-name-link">getU</a><wbr>(int&nbsp;row)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an element of the controller's calculated control input u.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getXHat()" class="member-name-link">getXHat</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the observer's state estimate x-hat.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getXHat(int)" class="member-name-link">getXHat</a><wbr>(int&nbsp;row)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an element of the observer's state estimate x-hat.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#predict(double)" class="member-name-link">predict</a><wbr>(double&nbsp;dtSeconds)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets new controller output, projects model forward, and runs observer prediction.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reset(edu.wpi.first.math.Matrix)" class="member-name-link">reset</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;initialState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Zeroes reference r and controller output u.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setClampFunction(java.util.function.Function)" class="member-name-link">setClampFunction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;,<wbr><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&gt;&nbsp;clampFunction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the clamping function used to clamp inputs.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setNextR(double...)" class="member-name-link">setNextR</a><wbr>(double...&nbsp;nextR)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the next reference r.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setNextR(edu.wpi.first.math.Matrix)" class="member-name-link">setNextR</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;nextR)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the next reference r.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setXHat(int,double)" class="member-name-link">setXHat</a><wbr>(int&nbsp;row,
 double&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set an element of the initial state estimate x-hat.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setXHat(edu.wpi.first.math.Matrix)" class="member-name-link">setXHat</a><wbr>(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;xhat)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the initial state estimate x-hat.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(edu.wpi.first.math.system.LinearSystem,edu.wpi.first.math.controller.LinearQuadraticRegulator,edu.wpi.first.math.estimator.KalmanFilter,double,double)">
<h3>LinearSystemLoop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-53">LinearSystemLoop</a></span><wbr><span class="parameters">(<a href="LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;plant,
 <a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;controller,
 <a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;observer,
 double&nbsp;maxVoltageVolts,
 double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a state-space loop with the given plant, controller, and observer. By default, the
 initial reference is all zeros. Users should call reset with the initial system state before
 enabling the loop. This constructor assumes that the input(s) to this system are voltage.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>plant</code> - State-space plant.</dd>
<dd><code>controller</code> - State-space controller.</dd>
<dd><code>observer</code> - State-space observer.</dd>
<dd><code>maxVoltageVolts</code> - The maximum voltage that can be applied. Commonly 12.</dd>
<dd><code>dtSeconds</code> - The nominal timestep.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(edu.wpi.first.math.system.LinearSystem,edu.wpi.first.math.controller.LinearQuadraticRegulator,edu.wpi.first.math.estimator.KalmanFilter,java.util.function.Function,double)">
<h3>LinearSystemLoop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-77">LinearSystemLoop</a></span><wbr><span class="parameters">(<a href="LinearSystem.html" title="class in edu.wpi.first.math.system">LinearSystem</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;plant,
 <a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;controller,
 <a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;observer,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;,<wbr><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&gt;&nbsp;clampFunction,
 double&nbsp;dtSeconds)</span></div>
<div class="block">Constructs a state-space loop with the given plant, controller, and observer. By default, the
 initial reference is all zeros. Users should call reset with the initial system state before
 enabling the loop.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>plant</code> - State-space plant.</dd>
<dd><code>controller</code> - State-space controller.</dd>
<dd><code>observer</code> - State-space observer.</dd>
<dd><code>clampFunction</code> - The function used to clamp the input U.</dd>
<dd><code>dtSeconds</code> - The nominal timestep.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(edu.wpi.first.math.controller.LinearQuadraticRegulator,edu.wpi.first.math.controller.LinearPlantInversionFeedforward,edu.wpi.first.math.estimator.KalmanFilter,double)">
<h3>LinearSystemLoop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-101">LinearSystemLoop</a></span><wbr><span class="parameters">(<a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;controller,
 <a href="../controller/LinearPlantInversionFeedforward.html" title="class in edu.wpi.first.math.controller">LinearPlantInversionFeedforward</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;feedforward,
 <a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;observer,
 double&nbsp;maxVoltageVolts)</span></div>
<div class="block">Constructs a state-space loop with the given controller, feedforward and observer. By default,
 the initial reference is all zeros. Users should call reset with the initial system state
 before enabling the loop.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>controller</code> - State-space controller.</dd>
<dd><code>feedforward</code> - Plant inversion feedforward.</dd>
<dd><code>observer</code> - State-space observer.</dd>
<dd><code>maxVoltageVolts</code> - The maximum voltage that can be applied. Assumes that the inputs are
     voltages.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(edu.wpi.first.math.controller.LinearQuadraticRegulator,edu.wpi.first.math.controller.LinearPlantInversionFeedforward,edu.wpi.first.math.estimator.KalmanFilter,java.util.function.Function)">
<h3>LinearSystemLoop</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-123">LinearSystemLoop</a></span><wbr><span class="parameters">(<a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;controller,
 <a href="../controller/LinearPlantInversionFeedforward.html" title="class in edu.wpi.first.math.controller">LinearPlantInversionFeedforward</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;feedforward,
 <a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;&nbsp;observer,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;,<wbr><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&gt;&nbsp;clampFunction)</span></div>
<div class="block">Constructs a state-space loop with the given controller, feedforward, and observer. By default,
 the initial reference is all zeros. Users should call reset with the initial system state
 before enabling the loop.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>controller</code> - State-space controller.</dd>
<dd><code>feedforward</code> - Plant inversion feedforward.</dd>
<dd><code>observer</code> - State-space observer.</dd>
<dd><code>clampFunction</code> - The function used to clamp the input U.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getXHat()">
<h3>getXHat</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-142">getXHat</a></span>()</div>
<div class="block">Returns the observer's state estimate x-hat.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the observer's state estimate x-hat.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getXHat(int)">
<h3>getXHat</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-152">getXHat</a></span><wbr><span class="parameters">(int&nbsp;row)</span></div>
<div class="block">Returns an element of the observer's state estimate x-hat.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - Row of x-hat.</dd>
<dt>Returns:</dt>
<dd>the i-th element of the observer's state estimate x-hat.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setXHat(edu.wpi.first.math.Matrix)">
<h3>setXHat</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-161">setXHat</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;xhat)</span></div>
<div class="block">Set the initial state estimate x-hat.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>xhat</code> - The initial state estimate x-hat.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setXHat(int,double)">
<h3>setXHat</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-171">setXHat</a></span><wbr><span class="parameters">(int&nbsp;row,
 double&nbsp;value)</span></div>
<div class="block">Set an element of the initial state estimate x-hat.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - Row of x-hat.</dd>
<dd><code>value</code> - Value for element of x-hat.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextR(int)">
<h3>getNextR</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-181">getNextR</a></span><wbr><span class="parameters">(int&nbsp;row)</span></div>
<div class="block">Returns an element of the controller's next reference r.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - Row of r.</dd>
<dt>Returns:</dt>
<dd>the element i of the controller's next reference r.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextR()">
<h3>getNextR</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-190">getNextR</a></span>()</div>
<div class="block">Returns the controller's next reference r.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the controller's next reference r.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setNextR(edu.wpi.first.math.Matrix)">
<h3>setNextR</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-199">setNextR</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;nextR)</span></div>
<div class="block">Set the next reference r.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nextR</code> - Next reference.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setNextR(double...)">
<h3>setNextR</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-208">setNextR</a></span><wbr><span class="parameters">(double...&nbsp;nextR)</span></div>
<div class="block">Set the next reference r.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nextR</code> - Next reference.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getU()">
<h3>getU</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-224">getU</a></span>()</div>
<div class="block">Returns the controller's calculated control input u plus the calculated feedforward u_ff.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the calculated control input u.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getU(int)">
<h3>getU</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-234">getU</a></span><wbr><span class="parameters">(int&nbsp;row)</span></div>
<div class="block">Returns an element of the controller's calculated control input u.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>row</code> - Row of u.</dd>
<dt>Returns:</dt>
<dd>the calculated control input u at the row i.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getController()">
<h3>getController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../controller/LinearQuadraticRegulator.html" title="class in edu.wpi.first.math.controller">LinearQuadraticRegulator</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-243">getController</a></span>()</div>
<div class="block">Return the controller used internally.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the controller used internally.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFeedforward()">
<h3>getFeedforward</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../controller/LinearPlantInversionFeedforward.html" title="class in edu.wpi.first.math.controller">LinearPlantInversionFeedforward</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-252">getFeedforward</a></span>()</div>
<div class="block">Return the feedforward used internally.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the feedforward used internally.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getObserver()">
<h3>getObserver</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../estimator/KalmanFilter.html" title="class in edu.wpi.first.math.estimator">KalmanFilter</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-261">getObserver</a></span>()</div>
<div class="block">Return the observer used internally.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the observer used internally.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reset(edu.wpi.first.math.Matrix)">
<h3>reset</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-272">reset</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;initialState)</span></div>
<div class="block">Zeroes reference r and controller output u. The previous reference of the
 PlantInversionFeedforward and the initial state estimate of the KalmanFilter are set to the
 initial state provided.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>initialState</code> - The initial state.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getError()">
<h3>getError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">States</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-284">getError</a></span>()</div>
<div class="block">Returns difference between reference r and current state x-hat.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The state error matrix.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getError(int)">
<h3>getError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-294">getError</a></span><wbr><span class="parameters">(int&nbsp;index)</span></div>
<div class="block">Returns difference between reference r and current state x-hat.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>index</code> - The index of the error matrix to return.</dd>
<dt>Returns:</dt>
<dd>The error at that index.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getClampFunction()">
<h3>getClampFunction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;,<wbr><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-303">getClampFunction</a></span>()</div>
<div class="block">Get the function used to clamp the input u.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The clamping function.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setClampFunction(java.util.function.Function)">
<h3>setClampFunction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-312">setClampFunction</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;,<wbr><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&gt;&nbsp;clampFunction)</span></div>
<div class="block">Set the clamping function used to clamp inputs.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clampFunction</code> - The clamping function.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="correct(edu.wpi.first.math.Matrix)">
<h3>correct</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-321">correct</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Outputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;y)</span></div>
<div class="block">Correct the state estimate x-hat using the measurements in y.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>y</code> - Measurement vector.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="predict(double)">
<h3>predict</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-332">predict</a></span><wbr><span class="parameters">(double&nbsp;dtSeconds)</span></div>
<div class="block">Sets new controller output, projects model forward, and runs observer prediction.

 <p>After calling this, the user should send the elements of u to the actuators.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dtSeconds</code> - Timestep for model update.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clampInput(edu.wpi.first.math.Matrix)">
<h3>clampInput</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/edu/wpi/first/math/system/LinearSystemLoop.html#line-347">clampInput</a></span><wbr><span class="parameters">(<a href="../Matrix.html" title="class in edu.wpi.first.math">Matrix</a>&lt;<a href="LinearSystemLoop.html" title="type parameter in LinearSystemLoop">Inputs</a>,<wbr><a href="../numbers/N1.html" title="class in edu.wpi.first.math.numbers">N1</a>&gt;&nbsp;unclampedU)</span></div>
<div class="block">Clamp the input u to the min and max.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>unclampedU</code> - The input to clamp.</dd>
<dt>Returns:</dt>
<dd>The clamped input.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
